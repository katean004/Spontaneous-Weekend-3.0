{"ast":null,"code":"var _jsxFileName = \"/Users/cyrusjose/Library/Mobile Documents/com~apple~CloudDocs/Programming/FullStack/spontaneous-weekend-3/spontaneous-weekend-v3/client/src/pages/Movie.js\";\nimport React from \"react\"; // import API from \"../utils/API\";\n\nimport \"./Movie.css\";\nconst tmdb_url = \"https://www.themoviedb.org/movie\";\nconst api_url = \"https://api.themoviedb.org\";\nconst image_url = \"https://image.tmdb.org/t/p/w500\";\nconst api_key = process.env.REACT_APP_MOVIE_API_KEY;\nconst language = \"en-us\";\nconst genres = {\n  Action: 28,\n  Adventure: 12,\n  Animation: 16,\n  Comedy: 35,\n  Crime: 80,\n  Document: 99,\n  Drama: 18,\n  Family: 10751,\n  Fantasy: 14,\n  History: 36,\n  Horror: 27,\n  Music: 10402,\n  Mystery: 9648,\n  Romance: 10749,\n  SciFi: 878,\n  TVMovie: 10770,\n  Thriller: 53,\n  War: 10752,\n  Western: 37\n};\n\nclass Movie extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.updateDiscover = (type, genre = \"\") => {\n      this.discover(type, genre[1]);\n    };\n\n    this.updateSearch = event => {\n      if (event.length === 0) return;\n      this.search(event);\n    };\n\n    this.state = {\n      featuredMovieData: null,\n      movieData: this.discover()\n    };\n  }\n\n  discover(type = \"movie\", genre = \"\") {\n    fetch(`${api_url}/3/discover/${type}?api_key=${api_key}&language=${language}&with_genres=${genre}`).then(response => response.json()).then(data => {\n      const movieList = [];\n      const results = data.results;\n      results.forEach(movie => {\n        if (movie.poster_path === null) return;\n\n        if (movie.vote_average) {\n          const movieBox = /*#__PURE__*/React.createElement(MovieBox, {\n            movie: movie,\n            key: movie.id,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 30\n            }\n          });\n          movie.poster_link = `${image_url}${movie.poster_path}`;\n          movie.url = `${tmdb_url}${movie.id}`;\n          movieList.push(movieBox);\n        }\n      });\n      fetch(`${api_url}/3/${type}/${results[0].id}?api_key=${api_key}&append_to_response=credits,videos`).then(response => response.json()).then(data => {\n        this.setState({\n          featuredMovieData: data,\n          movieData: $math.random(movieList)[0]\n        });\n      });\n    });\n  }\n\n  search(searchValue) {\n    fetch(`${api_url}/3/search/movie?api_key=${api_key}&language=${language}&query=${searchValue}`).then(response => response.json()).then(data => {\n      const movieList = [];\n      const results = data.results;\n      results.forEach(movie => {\n        if (movie.poster_path === null) return;\n\n        if (movie.vote_average) {\n          const movieBox = /*#__PURE__*/React.createElement(MovieBox, {\n            movie: movie,\n            key: movie.id,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 30\n            }\n          });\n          movie.poster_link = `${image_url}${movie.poster_path}`;\n          movie.url = `${tmdb_url}${movie.id}`;\n          movieList.push(movieBox);\n        }\n      });\n      this.setState({\n        movieData: movieList\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 7\n      }\n    }, this.state.movieData ? /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Navbar, {\n      updateSearch: this.updateSearch,\n      updateDiscover: this.updateDiscover,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(GenresBar, {\n      genres: genres,\n      updateDiscover: this.updateDiscover,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(FeaturedMovie, {\n      movie: this.state.featuredMovieData,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(MovieMain, {\n      movies: this.state.movieData,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 13\n      }\n    })) : null);\n  }\n\n}\n\nconst FeaturedMovie = props => /*#__PURE__*/React.createElement(\"div\", {\n  className: \"featured_movie_container\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 118,\n    columnNumber: 3\n  }\n}, /*#__PURE__*/React.createElement(FeaturedMoviePoster, {\n  poster: props.movie.poster_path,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 119,\n    columnNumber: 5\n  }\n}), /*#__PURE__*/React.createElement(FeaturedMovieInfo, {\n  movie: props.movie,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 120,\n    columnNumber: 5\n  }\n}));\n\nconst FeaturedMovieInfo = props => {\n  const trailer_path = `https://www.youtube.com/embed/${props.movie.videos.results[0].key}`;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"featured_movie_info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"movie_title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }\n  }, props.movie.title ? props.movie.title.toUpperCase() : props.movie.name.toUpperCase()), /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"movie_tagline\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }\n  }, props.movie.tagline), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"movie_overview\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }\n  }, props.movie.overview), /*#__PURE__*/React.createElement(FeaturedMovieRating, {\n    movie_average: props.movie.vote_average,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(FeaturedMovieTrailer, {\n    trailer_path: trailer_path,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }\n  }));\n};\n\nconst FeaturedMoviePoster = props => {\n  const poster_path = `https://image.tmdb.org/t/p/w500/${props.poster}`;\n  const style = {\n    backgroundImage: \"url(\" + poster_path + \")\"\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"featured_movie_poster\",\n    style: style,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 10\n    }\n  });\n};\n\nconst FeaturedMovieRating = props => {\n  const stars = [];\n\n  for (let i = 0; i < 10; i++) {\n    if (i < props.movie_average && props.movie_average - i < 1 && props.movie_average - i > 0) {\n      stars.push( /*#__PURE__*/React.createElement(\"i\", {\n        className: \"star fas fa-star-half-alt\",\n        key: `star${i}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 9\n        }\n      }));\n    } else if (i < props.movie_average && props.movie_average - i > 0) {\n      stars.push( /*#__PURE__*/React.createElement(\"i\", {\n        className: \"star fas fa-star\",\n        key: `star${i}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 18\n        }\n      }));\n    } else {\n      stars.push( /*#__PURE__*/React.createElement(\"i\", {\n        className: \"star far fa-star\",\n        key: `star${i}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 18\n        }\n      }));\n    }\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"featured_movie_rating\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    className: \"stars\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }\n  }, stars, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"movie_average\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 9\n    }\n  }, props.movie_average)));\n};\n\nconst FeaturedMovieTrailer = props => /*#__PURE__*/React.createElement(\"iframe\", {\n  title: \"Trailer\",\n  width: \"100%\",\n  height: \"100%\",\n  src: props.trailer_path,\n  frameBorder: \"0\",\n  allow: \"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\",\n  allowFullScreen: true,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 180,\n    columnNumber: 3\n  }\n});\n\nconst Footer = props => {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"footer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"footer-icons\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"http://www.github.com/mikesuchor\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fab fa-github-square\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"a\", {\n    href: \"http://www.linkedin.com/in/michael-suchorolski\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fab fa-linkedin\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"a\", {\n    href: \"mailto:mikesuchor@gmail.com\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fas fa-envelope-square\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(TMDBLogo, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 7\n    }\n  }, \"Designed and created by Michael Suchorolski \\xA9 2019\"));\n};\n\nconst TMDBLogo = () => /*#__PURE__*/React.createElement(\"a\", {\n  href: \"https://www.themoviedb.org/\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 212,\n    columnNumber: 3\n  }\n}, /*#__PURE__*/React.createElement(\"img\", {\n  className: \"tmdb-logo\",\n  src: \"https://previews.dropbox.com/p/thumb/AAZ09JA0zXmOcCBoeK-_BYH3FtZA3cMgKcbg01VPkylJD91dboZ_esG7E6rMjS_dhL2q2yrIFpyb39NRTNtIzl88ac3M3HEUXN7s8bsiwW4UQ7BcSVUPueAxKIM2ybdOQJ_ZqA0ccs0EWW4f1YCR8YMepR15_e4ijR_u3RNy8ufq_gV3c0TpEH7iVgUMM-ruthAgJtTLibHkjUpyme2JN5pBTI-RZO1rDLmCau6BAhpPN2reifxVGFHfdN37o2KVk7xSJJCxhO7UlLokb622IoAcrSoLxT4Ijat6p_IU0mDpmxXlmRM5-vrScg4L6hyCTqLhXa3Bb1EnhwU89Haj_3ZteHYRypPQunzmP_ad96ooAg/p.png?size_mode=5\",\n  alt: \"tmdb logo\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 213,\n    columnNumber: 5\n  }\n}));\n\nconst MovieBox = props => {\n  const moveToFeatured = hello => {\n    console.log(hello);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"movie_box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"movie_poster\",\n    src: props.movie.poster_link,\n    alt: \"movie poster\",\n    onClick: () => moveToFeatured(props),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"movie_title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 7\n    }\n  }, props.movie.title ? props.movie.title : props.movie.name), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"movie_vote_average\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"star_icon fas fa-star\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 9\n    }\n  }), props.movie.vote_average));\n};\n\nconst MovieBoxContainer = props => /*#__PURE__*/React.createElement(\"div\", {\n  className: \"movie_box_container\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 246,\n    columnNumber: 3\n  }\n}, props.movies);\n\nconst MovieMain = props => /*#__PURE__*/React.createElement(\"div\", {\n  className: \"movie_main\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 250,\n    columnNumber: 3\n  }\n}, /*#__PURE__*/React.createElement(\"h2\", {\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 251,\n    columnNumber: 5\n  }\n}, \"TRENDING MOVIES\"), /*#__PURE__*/React.createElement(MovieBoxContainer, {\n  movies: props.movies,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 252,\n    columnNumber: 5\n  }\n}));\n\nconst GenreButton = props => /*#__PURE__*/React.createElement(\"div\", {\n  className: \"genre_button\",\n  onClick: () => props.updateDiscover(\"movie\", props.genre),\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 257,\n    columnNumber: 3\n  }\n}, props.genre[0]);\n\nconst GenresBar = props => {\n  const genresArr = [];\n\n  for (var i = 0; i < Object.keys(props.genres).length; i++) {\n    genresArr.push( /*#__PURE__*/React.createElement(GenreButton, {\n      genre: Object.entries(props.genres)[i],\n      key: `Button+${i}`,\n      updateDiscover: props.updateDiscover,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 7\n      }\n    }));\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"genres_bar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 10\n    }\n  }, genresArr);\n};\n\nconst Navbar = props => /*#__PURE__*/React.createElement(\"nav\", {\n  className: \"navbar\",\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 281,\n    columnNumber: 3\n  }\n}, /*#__PURE__*/React.createElement(TVMovieToggle, {\n  updateDiscover: props.updateDiscover,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 282,\n    columnNumber: 5\n  }\n}), /*#__PURE__*/React.createElement(Search, {\n  updateSearch: props.updateSearch,\n  __self: this,\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 283,\n    columnNumber: 5\n  }\n}));\n\nconst Search = props => {\n  const scrollToMovies = () => {\n    var element = document.querySelector(\".movie_main\");\n    var headerOffset = 70;\n    var elementPosition = element.offsetTop;\n    var offsetPosition = elementPosition - headerOffset;\n    document.documentElement.scrollTop = offsetPosition;\n    document.body.scrollTop = offsetPosition; // For Safari\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search-field-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"search-field\",\n    type: \"search\",\n    name: \"search\",\n    placeholder: \"Search...\",\n    onFocus: () => scrollToMovies(),\n    onChange: event => props.updateSearch(event.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 299,\n      columnNumber: 7\n    }\n  }));\n};\n\nclass TVMovieToggle extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      toggle: false\n    };\n\n    this.slideToggle = () => {\n      this.setState({\n        toggle: !this.state.toggle\n      }, () => this.props.updateDiscover(this.state.toggle ? \"tv\" : \"movie\"));\n    };\n  }\n\n  render() {\n    const toggle = this.state.toggle;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"toggle-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 9\n      }\n    }, \"Movies\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"toggle\",\n      onClick: () => this.slideToggle(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 328,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"toggle-button \" + (toggle ? \"movie\" : \"tv\"),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 329,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 9\n      }\n    }, \"TV\"));\n  }\n\n}\n\nexport default Movie;","map":{"version":3,"sources":["/Users/cyrusjose/Library/Mobile Documents/com~apple~CloudDocs/Programming/FullStack/spontaneous-weekend-3/spontaneous-weekend-v3/client/src/pages/Movie.js"],"names":["React","tmdb_url","api_url","image_url","api_key","process","env","REACT_APP_MOVIE_API_KEY","language","genres","Action","Adventure","Animation","Comedy","Crime","Document","Drama","Family","Fantasy","History","Horror","Music","Mystery","Romance","SciFi","TVMovie","Thriller","War","Western","Movie","Component","constructor","props","updateDiscover","type","genre","discover","updateSearch","event","length","search","state","featuredMovieData","movieData","fetch","then","response","json","data","movieList","results","forEach","movie","poster_path","vote_average","movieBox","id","poster_link","url","push","setState","$math","random","searchValue","render","FeaturedMovie","FeaturedMovieInfo","trailer_path","videos","key","title","toUpperCase","name","tagline","overview","FeaturedMoviePoster","poster","style","backgroundImage","FeaturedMovieRating","stars","i","movie_average","FeaturedMovieTrailer","Footer","TMDBLogo","MovieBox","moveToFeatured","hello","console","log","MovieBoxContainer","movies","MovieMain","GenreButton","GenresBar","genresArr","Object","keys","entries","Navbar","Search","scrollToMovies","element","document","querySelector","headerOffset","elementPosition","offsetTop","offsetPosition","documentElement","scrollTop","body","target","value","TVMovieToggle","toggle","slideToggle"],"mappings":"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","sourcesContent":["import React from \"react\";\n// import API from \"../utils/API\";\nimport \"./Movie.css\"\nconst tmdb_url = \"https://www.themoviedb.org/movie\";\nconst api_url = \"https://api.themoviedb.org\";\nconst image_url = \"https://image.tmdb.org/t/p/w500\";\nconst api_key = process.env.REACT_APP_MOVIE_API_KEY;\nconst language = \"en-us\";\nconst genres = {\n  Action: 28,\n  Adventure: 12,\n  Animation: 16,\n  Comedy: 35,\n  Crime: 80,\n  Document: 99,\n  Drama: 18,\n  Family: 10751,\n  Fantasy: 14,\n  History: 36,\n  Horror: 27,\n  Music: 10402,\n  Mystery: 9648,\n  Romance: 10749,\n  SciFi: 878,\n  TVMovie: 10770,\n  Thriller: 53,\n  War: 10752,\n  Western: 37\n};\nclass Movie extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      featuredMovieData: null,\n      movieData: this.discover()\n    };\n  }\n\n  discover(type = \"movie\", genre = \"\") {\n    fetch(\n      `${api_url}/3/discover/${type}?api_key=${api_key}&language=${language}&with_genres=${genre}`\n    )\n      .then(response => response.json())\n      .then(data => {\n        const movieList = [];\n        const results = data.results;\n        results.forEach(movie => {\n          if (movie.poster_path === null) return;\n          if (movie.vote_average) {\n            const movieBox = <MovieBox movie={movie} key={movie.id} />;\n            movie.poster_link = `${image_url}${movie.poster_path}`;\n            movie.url = `${tmdb_url}${movie.id}`;\n            movieList.push(movieBox);\n          }\n        });\n        fetch(\n          `${api_url}/3/${type}/${results[0].id}?api_key=${api_key}&append_to_response=credits,videos`\n        )\n          .then(response => response.json())\n          .then(data => {\n            this.setState({ featuredMovieData: data, movieData: $math.random(movieList)[0] });\n          });\n      });\n  }\n\n  search(searchValue) {\n    fetch(\n      `${api_url}/3/search/movie?api_key=${api_key}&language=${language}&query=${searchValue}`\n    )\n      .then(response => response.json())\n      .then(data => {\n        const movieList = [];\n        const results = data.results;\n        results.forEach(movie => {\n          if (movie.poster_path === null) return;\n          if (movie.vote_average) {\n            const movieBox = <MovieBox movie={movie} key={movie.id} />;\n            movie.poster_link = `${image_url}${movie.poster_path}`;\n            movie.url = `${tmdb_url}${movie.id}`;\n            movieList.push(movieBox);\n          }\n        });\n        this.setState({ movieData: movieList });\n      });\n  }\n\n  updateDiscover = (type, genre = \"\") => {\n    this.discover(type, genre[1]);\n  };\n\n  updateSearch = event => {\n    if (event.length === 0) return;\n    this.search(event);\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        {this.state.movieData ? (\n          <div>\n            <Navbar\n              updateSearch={this.updateSearch}\n              updateDiscover={this.updateDiscover}\n            />\n            <GenresBar genres={genres} updateDiscover={this.updateDiscover} />\n            <FeaturedMovie movie={this.state.featuredMovieData} />\n            <MovieMain movies={this.state.movieData} />\n            <Footer />\n          </div>\n        ) : null}\n      </div>\n    );\n  }\n}\n\nconst FeaturedMovie = props => (\n  <div className=\"featured_movie_container\">\n    <FeaturedMoviePoster poster={props.movie.poster_path} />\n    <FeaturedMovieInfo movie={props.movie} />\n  </div>\n);\n\nconst FeaturedMovieInfo = props => {\n  const trailer_path = `https://www.youtube.com/embed/${props.movie.videos.results[0].key}`;\n  return (\n    <div className=\"featured_movie_info\">\n      <h1 className=\"movie_title\">\n        {props.movie.title\n          ? props.movie.title.toUpperCase()\n          : props.movie.name.toUpperCase()}\n      </h1>\n      <h2 className=\"movie_tagline\">{props.movie.tagline}</h2>\n      <p className=\"movie_overview\">{props.movie.overview}</p>\n      <FeaturedMovieRating movie_average={props.movie.vote_average} />\n      <FeaturedMovieTrailer trailer_path={trailer_path} />\n    </div>\n  );\n};\n\nconst FeaturedMoviePoster = props => {\n  const poster_path = `https://image.tmdb.org/t/p/w500/${props.poster}`;\n  const style = {\n    backgroundImage: \"url(\" + poster_path + \")\"\n  };\n\n  return <div className=\"featured_movie_poster\" style={style}></div>;\n};\n\nconst FeaturedMovieRating = props => {\n  const stars = [];\n\n  for (let i = 0; i < 10; i++) {\n    if (\n      i < props.movie_average &&\n      props.movie_average - i < 1 &&\n      props.movie_average - i > 0\n    ) {\n      stars.push(\n        <i className=\"star fas fa-star-half-alt\" key={`star${i}`}></i>\n      );\n    } else if (i < props.movie_average && props.movie_average - i > 0) {\n      stars.push(<i className=\"star fas fa-star\" key={`star${i}`}></i>);\n    } else {\n      stars.push(<i className=\"star far fa-star\" key={`star${i}`}></i>);\n    }\n  }\n\n  return (\n    <div className=\"featured_movie_rating\">\n      <p className=\"stars\">\n        {stars}\n        <span className=\"movie_average\">{props.movie_average}</span>\n      </p>\n    </div>\n  );\n};\n\nconst FeaturedMovieTrailer = props => (\n  <iframe\n    title=\"Trailer\"\n    width=\"100%\"\n    height=\"100%\"\n    src={props.trailer_path}\n    frameBorder=\"0\"\n    allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\"\n    allowFullScreen\n  ></iframe>\n);\n\nconst Footer = props => {\n  return (\n    <div className=\"footer\">\n      <div className=\"footer-icons\">\n        <a href=\"http://www.github.com/mikesuchor\">\n          <i className=\"fab fa-github-square\"></i>\n        </a>\n        <a href=\"http://www.linkedin.com/in/michael-suchorolski\">\n          <i className=\"fab fa-linkedin\"></i>\n        </a>\n        <a href=\"mailto:mikesuchor@gmail.com\">\n          <i className=\"fas fa-envelope-square\"></i>\n        </a>\n        <TMDBLogo />\n      </div>\n      <p>Designed and created by Michael Suchorolski &copy; 2019</p>\n    </div>\n  );\n};\n\nconst TMDBLogo = () => (\n  <a href=\"https://www.themoviedb.org/\">\n    <img\n      className=\"tmdb-logo\"\n      src=\"https://previews.dropbox.com/p/thumb/AAZ09JA0zXmOcCBoeK-_BYH3FtZA3cMgKcbg01VPkylJD91dboZ_esG7E6rMjS_dhL2q2yrIFpyb39NRTNtIzl88ac3M3HEUXN7s8bsiwW4UQ7BcSVUPueAxKIM2ybdOQJ_ZqA0ccs0EWW4f1YCR8YMepR15_e4ijR_u3RNy8ufq_gV3c0TpEH7iVgUMM-ruthAgJtTLibHkjUpyme2JN5pBTI-RZO1rDLmCau6BAhpPN2reifxVGFHfdN37o2KVk7xSJJCxhO7UlLokb622IoAcrSoLxT4Ijat6p_IU0mDpmxXlmRM5-vrScg4L6hyCTqLhXa3Bb1EnhwU89Haj_3ZteHYRypPQunzmP_ad96ooAg/p.png?size_mode=5\"\n      alt=\"tmdb logo\"\n    ></img>\n  </a>\n);\n\nconst MovieBox = props => {\n  const moveToFeatured = hello => {\n    console.log(hello);\n  };\n\n  return (\n    <div className=\"movie_box\">\n      <img\n        className=\"movie_poster\"\n        src={props.movie.poster_link}\n        alt=\"movie poster\"\n        onClick={() => moveToFeatured(props)}\n      />\n      <p className=\"movie_title\">\n        {props.movie.title ? props.movie.title : props.movie.name}\n      </p>\n      <p className=\"movie_vote_average\">\n        <i className=\"star_icon fas fa-star\"></i>\n        {props.movie.vote_average}\n      </p>\n    </div>\n  );\n};\n\nconst MovieBoxContainer = props => (\n  <div className=\"movie_box_container\">{props.movies}</div>\n);\n\nconst MovieMain = props => (\n  <div className=\"movie_main\">\n    <h2>TRENDING MOVIES</h2>\n    <MovieBoxContainer movies={props.movies} />\n  </div>\n);\n\nconst GenreButton = props => (\n  <div\n    className=\"genre_button\"\n    onClick={() => props.updateDiscover(\"movie\", props.genre)}\n  >\n    {props.genre[0]}\n  </div>\n);\n\nconst GenresBar = props => {\n  const genresArr = [];\n  for (var i = 0; i < Object.keys(props.genres).length; i++) {\n    genresArr.push(\n      <GenreButton\n        genre={Object.entries(props.genres)[i]}\n        key={`Button+${i}`}\n        updateDiscover={props.updateDiscover}\n      />\n    );\n  }\n\n  return <div className=\"genres_bar\">{genresArr}</div>;\n};\n\nconst Navbar = props => (\n  <nav className=\"navbar\">\n    <TVMovieToggle updateDiscover={props.updateDiscover} />\n    <Search updateSearch={props.updateSearch} />\n  </nav>\n);\n\nconst Search = props => {\n  const scrollToMovies = () => {\n    var element = document.querySelector(\".movie_main\");\n    var headerOffset = 70;\n    var elementPosition = element.offsetTop;\n    var offsetPosition = elementPosition - headerOffset;\n    document.documentElement.scrollTop = offsetPosition;\n    document.body.scrollTop = offsetPosition; // For Safari\n  };\n\n  return (\n    <div className=\"search-field-container\">\n      <input\n        className=\"search-field\"\n        type=\"search\"\n        name=\"search\"\n        placeholder=\"Search...\"\n        onFocus={() => scrollToMovies()}\n        onChange={event => props.updateSearch(event.target.value)}\n      />\n    </div>\n  );\n};\n\nclass TVMovieToggle extends React.Component {\n  state = {\n    toggle: false\n  };\n\n  slideToggle = () => {\n    this.setState({ toggle: !this.state.toggle }, () =>\n      this.props.updateDiscover(this.state.toggle ? \"tv\" : \"movie\")\n    );\n  };\n\n  render() {\n    const toggle = this.state.toggle;\n\n    return (\n      <div className=\"toggle-container\">\n        <p>Movies</p>\n        <div className=\"toggle\" onClick={() => this.slideToggle()}>\n          <div className={\"toggle-button \" + (toggle ? \"movie\" : \"tv\")}></div>\n        </div>\n        <p>TV</p>\n      </div>\n    );\n  }\n}\n\nexport default Movie;\n"]},"metadata":{},"sourceType":"module"}