{"ast":null,"code":"var _jsxFileName = \"/Users/cyrusjose/Library/Mobile Documents/com~apple~CloudDocs/Programming/FullStack/spontaneous-weekend-3/spontaneous-weekend-v3/client/src/pages/Movie.js\";\nimport React, { useState } from \"react\";\nimport API from \"../utils/API\";\n\nfunction Movie() {\n  const tmdb_url = \"https://www.themoviedb.org/movie\";\n  const api_url = \"https://api.themoviedb.org\";\n  const image_url = \"https://image.tmdb.org/t/p/w500\";\n  const api_key = process.env.REACT_APP_MOVIE_API_KEY;\n  const language = \"en-us\";\n  const genres = {\n    Action: 28,\n    Adventure: 12,\n    Animation: 16,\n    Comedy: 35,\n    Crime: 80,\n    Document: 99,\n    Drama: 18,\n    Family: 10751,\n    Fantasy: 14,\n    History: 36,\n    Horror: 27,\n    Music: 10402,\n    Mystery: 9648,\n    Romance: 10749,\n    SciFi: 878,\n    TVMovie: 10770,\n    Thriller: 53,\n    War: 10752,\n    Western: 37\n  };\n\n  class App extends React.Component {\n    constructor(props) {\n      super(props);\n\n      this.updateDiscover = (type, genre = \"\") => {\n        this.discover(type, genre[1]);\n      };\n\n      this.updateSearch = event => {\n        if (event.length === 0) return;\n        this.search(event);\n      };\n\n      this.state = {\n        featuredMovieData: null,\n        movieData: this.discover()\n      };\n    }\n\n    discover(type = \"movie\", genre = \"\") {\n      fetch(`${api_url}/3/discover/${type}?api_key=${api_key}&language=${language}&with_genres=${genre}`).then(response => response.json()).then(data => {\n        const movieList = [];\n        const results = data.results;\n        results.forEach(movie => {\n          if (movie.poster_path === null) return;\n\n          if (movie.vote_average) {\n            const movieBox = /*#__PURE__*/React.createElement(MovieBox, {\n              movie: movie,\n              key: movie.id,\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 51,\n                columnNumber: 32\n              }\n            });\n            movie.poster_link = `${image_url}${movie.poster_path}`;\n            movie.url = `${tmdb_url}${movie.id}`;\n            movieList.push(movieBox);\n          }\n        });\n        fetch(`${api_url}/3/${type}/${results[0].id}?api_key=${api_key}&append_to_response=credits,videos`).then(response => response.json()).then(data => {\n          this.setState({\n            featuredMovieData: data,\n            movieData: movieList\n          });\n        });\n      });\n    }\n\n    search(searchValue) {\n      fetch(`${api_url}/3/search/movie?api_key=${api_key}&language=${language}&query=${searchValue}`).then(response => response.json()).then(data => {\n        const movieList = [];\n        const results = data.results;\n        results.forEach(movie => {\n          if (movie.poster_path === null) return;\n\n          if (movie.vote_average) {\n            const movieBox = /*#__PURE__*/React.createElement(MovieBox, {\n              movie: movie,\n              key: movie.id,\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 32\n              }\n            });\n            movie.poster_link = `${image_url}${movie.poster_path}`;\n            movie.url = `${tmdb_url}${movie.id}`;\n            movieList.push(movieBox);\n          }\n        });\n        this.setState({\n          movieData: movieList\n        });\n      });\n    }\n\n    render() {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"App\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 9\n        }\n      }, this.state.movieData ? /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Navbar, {\n        updateSearch: this.updateSearch,\n        updateDiscover: this.updateDiscover,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(GenresBar, {\n        genres: genres,\n        updateDiscover: this.updateDiscover,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(FeaturedMovie, {\n        movie: this.state.featuredMovieData,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(MovieMain, {\n        movies: this.state.movieData,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 15\n        }\n      }), /*#__PURE__*/React.createElement(Footer, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 15\n        }\n      })) : null);\n    }\n\n  }\n\n  const FeaturedMovie = props => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"featured_movie_container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(FeaturedMoviePoster, {\n    poster: props.movie.poster_path,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(FeaturedMovieInfo, {\n    movie: props.movie,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }\n  }));\n\n  const FeaturedMovieInfo = props => {\n    const trailer_path = `https://www.youtube.com/embed/${props.movie.videos.results[0].key}`;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"featured_movie_info\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"movie_title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }\n    }, props.movie.title ? props.movie.title.toUpperCase() : props.movie.name.toUpperCase()), /*#__PURE__*/React.createElement(\"h2\", {\n      className: \"movie_tagline\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }\n    }, props.movie.tagline), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"movie_overview\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 9\n      }\n    }, props.movie.overview), /*#__PURE__*/React.createElement(FeaturedMovieRating, {\n      movie_average: props.movie.vote_average,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(FeaturedMovieTrailer, {\n      trailer_path: trailer_path,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }\n    }));\n  };\n\n  const FeaturedMoviePoster = props => {\n    const poster_path = `https://image.tmdb.org/t/p/w500/${props.poster}`;\n    const style = {\n      backgroundImage: \"url(\" + poster_path + \")\"\n    };\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"featured_movie_poster\",\n      style: style,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 12\n      }\n    });\n  };\n\n  const FeaturedMovieRating = props => {\n    const stars = [];\n\n    for (let i = 0; i < 10; i++) {\n      if (i < props.movie_average && props.movie_average - i < 1 && props.movie_average - i > 0) {\n        stars.push( /*#__PURE__*/React.createElement(\"i\", {\n          className: \"star fas fa-star-half-alt\",\n          key: `star${i}`,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 11\n          }\n        }));\n      } else if (i < props.movie_average && props.movie_average - i > 0) {\n        stars.push( /*#__PURE__*/React.createElement(\"i\", {\n          className: \"star fas fa-star\",\n          key: `star${i}`,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 20\n          }\n        }));\n      } else {\n        stars.push( /*#__PURE__*/React.createElement(\"i\", {\n          className: \"star far fa-star\",\n          key: `star${i}`,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 165,\n            columnNumber: 20\n          }\n        }));\n      }\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"featured_movie_rating\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      className: \"stars\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 9\n      }\n    }, stars, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"movie_average\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 11\n      }\n    }, props.movie_average)));\n  };\n\n  const FeaturedMovieTrailer = props => /*#__PURE__*/React.createElement(\"iframe\", {\n    title: \"Trailer\",\n    width: \"100%\",\n    height: \"100%\",\n    src: props.trailer_path,\n    frameBorder: \"0\",\n    allow: \"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\",\n    allowFullScreen: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 5\n    }\n  });\n\n  const Footer = props => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"footer\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"footer-icons\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"http://www.github.com/mikesuchor\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fab fa-github-square\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"a\", {\n      href: \"http://www.linkedin.com/in/michael-suchorolski\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fab fa-linkedin\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"a\", {\n      href: \"mailto:mikesuchor@gmail.com\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-envelope-square\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(TMDBLogo, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 11\n      }\n    })), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }\n    }, \"Designed and created by Michael Suchorolski \\xA9 2019\"));\n  };\n\n  const TMDBLogo = () => /*#__PURE__*/React.createElement(\"a\", {\n    href: \"https://www.themoviedb.org/\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"tmdb-logo\",\n    src: \"https://previews.dropbox.com/p/thumb/AAZ09JA0zXmOcCBoeK-_BYH3FtZA3cMgKcbg01VPkylJD91dboZ_esG7E6rMjS_dhL2q2yrIFpyb39NRTNtIzl88ac3M3HEUXN7s8bsiwW4UQ7BcSVUPueAxKIM2ybdOQJ_ZqA0ccs0EWW4f1YCR8YMepR15_e4ijR_u3RNy8ufq_gV3c0TpEH7iVgUMM-ruthAgJtTLibHkjUpyme2JN5pBTI-RZO1rDLmCau6BAhpPN2reifxVGFHfdN37o2KVk7xSJJCxhO7UlLokb622IoAcrSoLxT4Ijat6p_IU0mDpmxXlmRM5-vrScg4L6hyCTqLhXa3Bb1EnhwU89Haj_3ZteHYRypPQunzmP_ad96ooAg/p.png?size_mode=5\",\n    alt: \"tmdb logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 7\n    }\n  }));\n\n  const MovieBox = props => {\n    const moveToFeatured = hello => {\n      console.log(hello);\n    };\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"movie_box\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      className: \"movie_poster\",\n      src: props.movie.poster_link,\n      alt: \"movie poster\",\n      onClick: () => moveToFeatured(props),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"movie_title\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 9\n      }\n    }, props.movie.title ? props.movie.title : props.movie.name), /*#__PURE__*/React.createElement(\"p\", {\n      className: \"movie_vote_average\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"star_icon fas fa-star\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 11\n      }\n    }), props.movie.vote_average));\n  };\n\n  const MovieBoxContainer = props => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"movie_box_container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 5\n    }\n  }, props.movies);\n\n  const MovieMain = props => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"movie_main\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 7\n    }\n  }, \"TRENDING MOVIES\"), /*#__PURE__*/React.createElement(MovieBoxContainer, {\n    movies: props.movies,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 7\n    }\n  }));\n\n  const GenreButton = props => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"genre_button\",\n    onClick: () => props.updateDiscover(\"movie\", props.genre),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 5\n    }\n  }, props.genre[0]);\n\n  const GenresBar = props => {\n    const genresArr = [];\n\n    for (var i = 0; i < Object.keys(props.genres).length; i++) {\n      genresArr.push( /*#__PURE__*/React.createElement(GenreButton, {\n        genre: Object.entries(props.genres)[i],\n        key: `Button+${i}`,\n        updateDiscover: props.updateDiscover,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 9\n        }\n      }));\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"genres_bar\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 12\n      }\n    }, genresArr);\n  };\n\n  const Navbar = props => /*#__PURE__*/React.createElement(\"nav\", {\n    className: \"navbar\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(TVMovieToggle, {\n    updateDiscover: props.updateDiscover,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 282,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Search, {\n    updateSearch: props.updateSearch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 7\n    }\n  }));\n\n  const Search = props => {\n    const scrollToMovies = () => {\n      var element = document.querySelector(\".movie_main\");\n      var headerOffset = 70;\n      var elementPosition = element.offsetTop;\n      var offsetPosition = elementPosition - headerOffset;\n      document.documentElement.scrollTop = offsetPosition;\n      document.body.scrollTop = offsetPosition; // For Safari\n    };\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"search-field-container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      className: \"search-field\",\n      type: \"search\",\n      name: \"search\",\n      placeholder: \"Search...\",\n      onFocus: () => scrollToMovies(),\n      onChange: event => props.updateSearch(event.target.value),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 299,\n        columnNumber: 9\n      }\n    }));\n  };\n\n  class TVMovieToggle extends React.Component {\n    constructor(...args) {\n      super(...args);\n      this.state = {\n        toggle: false\n      };\n\n      this.slideToggle = () => {\n        this.setState({\n          toggle: !this.state.toggle\n        }, () => this.props.updateDiscover(this.state.toggle ? \"tv\" : \"movie\"));\n      };\n    }\n\n    render() {\n      const toggle = this.state.toggle;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"toggle-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 327,\n          columnNumber: 11\n        }\n      }, \"Movies\"), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"toggle\",\n        onClick: () => this.slideToggle(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"toggle-button \" + (toggle ? \"movie\" : \"tv\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 11\n        }\n      }, \"TV\"));\n    }\n\n  }\n}\n\nexport default Movie;","map":{"version":3,"sources":["/Users/cyrusjose/Library/Mobile Documents/com~apple~CloudDocs/Programming/FullStack/spontaneous-weekend-3/spontaneous-weekend-v3/client/src/pages/Movie.js"],"names":["React","useState","API","Movie","tmdb_url","api_url","image_url","api_key","process","env","REACT_APP_MOVIE_API_KEY","language","genres","Action","Adventure","Animation","Comedy","Crime","Document","Drama","Family","Fantasy","History","Horror","Music","Mystery","Romance","SciFi","TVMovie","Thriller","War","Western","App","Component","constructor","props","updateDiscover","type","genre","discover","updateSearch","event","length","search","state","featuredMovieData","movieData","fetch","then","response","json","data","movieList","results","forEach","movie","poster_path","vote_average","movieBox","id","poster_link","url","push","setState","searchValue","render","FeaturedMovie","FeaturedMovieInfo","trailer_path","videos","key","title","toUpperCase","name","tagline","overview","FeaturedMoviePoster","poster","style","backgroundImage","FeaturedMovieRating","stars","i","movie_average","FeaturedMovieTrailer","Footer","TMDBLogo","MovieBox","moveToFeatured","hello","console","log","MovieBoxContainer","movies","MovieMain","GenreButton","GenresBar","genresArr","Object","keys","entries","Navbar","Search","scrollToMovies","element","document","querySelector","headerOffset","elementPosition","offsetTop","offsetPosition","documentElement","scrollTop","body","target","value","TVMovieToggle","toggle","slideToggle"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport API from \"../utils/API\";\nfunction Movie() {\n  const tmdb_url = \"https://www.themoviedb.org/movie\";\n  const api_url = \"https://api.themoviedb.org\";\n  const image_url = \"https://image.tmdb.org/t/p/w500\";\n  const api_key = process.env.REACT_APP_MOVIE_API_KEY\n  const language = \"en-us\";\n  const genres = {\n    Action: 28,\n    Adventure: 12,\n    Animation: 16,\n    Comedy: 35,\n    Crime: 80,\n    Document: 99,\n    Drama: 18,\n    Family: 10751,\n    Fantasy: 14,\n    History: 36,\n    Horror: 27,\n    Music: 10402,\n    Mystery: 9648,\n    Romance: 10749,\n    SciFi: 878,\n    TVMovie: 10770,\n    Thriller: 53,\n    War: 10752,\n    Western: 37\n  };\n  class App extends React.Component {\n    constructor(props) {\n      super(props);\n\n      this.state = {\n        featuredMovieData: null,\n        movieData: this.discover()\n      };\n    }\n\n    discover(type = \"movie\", genre = \"\") {\n      fetch(\n        `${api_url}/3/discover/${type}?api_key=${api_key}&language=${language}&with_genres=${genre}`\n      )\n        .then(response => response.json())\n        .then(data => {\n          const movieList = [];\n          const results = data.results;\n          results.forEach(movie => {\n            if (movie.poster_path === null) return;\n            if (movie.vote_average) {\n              const movieBox = <MovieBox movie={movie} key={movie.id} />;\n              movie.poster_link = `${image_url}${movie.poster_path}`;\n              movie.url = `${tmdb_url}${movie.id}`;\n              movieList.push(movieBox);\n            }\n          });\n          fetch(\n            `${api_url}/3/${type}/${results[0].id}?api_key=${api_key}&append_to_response=credits,videos`\n          )\n            .then(response => response.json())\n            .then(data => {\n              this.setState({ featuredMovieData: data, movieData: movieList });\n            });\n        });\n    }\n\n    search(searchValue) {\n      fetch(\n        `${api_url}/3/search/movie?api_key=${api_key}&language=${language}&query=${searchValue}`\n      )\n        .then(response => response.json())\n        .then(data => {\n          const movieList = [];\n          const results = data.results;\n          results.forEach(movie => {\n            if (movie.poster_path === null) return;\n            if (movie.vote_average) {\n              const movieBox = <MovieBox movie={movie} key={movie.id} />;\n              movie.poster_link = `${image_url}${movie.poster_path}`;\n              movie.url = `${tmdb_url}${movie.id}`;\n              movieList.push(movieBox);\n            }\n          });\n          this.setState({ movieData: movieList });\n        });\n    }\n\n    updateDiscover = (type, genre = \"\") => {\n      this.discover(type, genre[1]);\n    };\n\n    updateSearch = event => {\n      if (event.length === 0) return;\n      this.search(event);\n    };\n\n    render() {\n      return (\n        <div className=\"App\">\n          {this.state.movieData ? (\n            <div>\n              <Navbar\n                updateSearch={this.updateSearch}\n                updateDiscover={this.updateDiscover}\n              />\n              <GenresBar genres={genres} updateDiscover={this.updateDiscover} />\n              <FeaturedMovie movie={this.state.featuredMovieData} />\n              <MovieMain movies={this.state.movieData} />\n              <Footer />\n            </div>\n          ) : null}\n        </div>\n      );\n    }\n  }\n\n  const FeaturedMovie = props => (\n    <div className=\"featured_movie_container\">\n      <FeaturedMoviePoster poster={props.movie.poster_path} />\n      <FeaturedMovieInfo movie={props.movie} />\n    </div>\n  );\n\n  const FeaturedMovieInfo = props => {\n    const trailer_path = `https://www.youtube.com/embed/${props.movie.videos.results[0].key}`;\n    return (\n      <div className=\"featured_movie_info\">\n        <h1 className=\"movie_title\">\n          {props.movie.title\n            ? props.movie.title.toUpperCase()\n            : props.movie.name.toUpperCase()}\n        </h1>\n        <h2 className=\"movie_tagline\">{props.movie.tagline}</h2>\n        <p className=\"movie_overview\">{props.movie.overview}</p>\n        <FeaturedMovieRating movie_average={props.movie.vote_average} />\n        <FeaturedMovieTrailer trailer_path={trailer_path} />\n      </div>\n    );\n  };\n\n  const FeaturedMoviePoster = props => {\n    const poster_path = `https://image.tmdb.org/t/p/w500/${props.poster}`;\n    const style = {\n      backgroundImage: \"url(\" + poster_path + \")\"\n    };\n\n    return <div className=\"featured_movie_poster\" style={style}></div>;\n  };\n\n  const FeaturedMovieRating = props => {\n    const stars = [];\n\n    for (let i = 0; i < 10; i++) {\n      if (\n        i < props.movie_average &&\n        props.movie_average - i < 1 &&\n        props.movie_average - i > 0\n      ) {\n        stars.push(\n          <i className=\"star fas fa-star-half-alt\" key={`star${i}`}></i>\n        );\n      } else if (i < props.movie_average && props.movie_average - i > 0) {\n        stars.push(<i className=\"star fas fa-star\" key={`star${i}`}></i>);\n      } else {\n        stars.push(<i className=\"star far fa-star\" key={`star${i}`}></i>);\n      }\n    }\n\n    return (\n      <div className=\"featured_movie_rating\">\n        <p className=\"stars\">\n          {stars}\n          <span className=\"movie_average\">{props.movie_average}</span>\n        </p>\n      </div>\n    );\n  };\n\n  const FeaturedMovieTrailer = props => (\n    <iframe\n      title=\"Trailer\"\n      width=\"100%\"\n      height=\"100%\"\n      src={props.trailer_path}\n      frameBorder=\"0\"\n      allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\"\n      allowFullScreen\n    ></iframe>\n  );\n\n  const Footer = props => {\n    return (\n      <div className=\"footer\">\n        <div className=\"footer-icons\">\n          <a href=\"http://www.github.com/mikesuchor\">\n            <i className=\"fab fa-github-square\"></i>\n          </a>\n          <a href=\"http://www.linkedin.com/in/michael-suchorolski\">\n            <i className=\"fab fa-linkedin\"></i>\n          </a>\n          <a href=\"mailto:mikesuchor@gmail.com\">\n            <i className=\"fas fa-envelope-square\"></i>\n          </a>\n          <TMDBLogo />\n        </div>\n        <p>Designed and created by Michael Suchorolski &copy; 2019</p>\n      </div>\n    );\n  };\n\n  const TMDBLogo = () => (\n    <a href=\"https://www.themoviedb.org/\">\n      <img\n        className=\"tmdb-logo\"\n        src=\"https://previews.dropbox.com/p/thumb/AAZ09JA0zXmOcCBoeK-_BYH3FtZA3cMgKcbg01VPkylJD91dboZ_esG7E6rMjS_dhL2q2yrIFpyb39NRTNtIzl88ac3M3HEUXN7s8bsiwW4UQ7BcSVUPueAxKIM2ybdOQJ_ZqA0ccs0EWW4f1YCR8YMepR15_e4ijR_u3RNy8ufq_gV3c0TpEH7iVgUMM-ruthAgJtTLibHkjUpyme2JN5pBTI-RZO1rDLmCau6BAhpPN2reifxVGFHfdN37o2KVk7xSJJCxhO7UlLokb622IoAcrSoLxT4Ijat6p_IU0mDpmxXlmRM5-vrScg4L6hyCTqLhXa3Bb1EnhwU89Haj_3ZteHYRypPQunzmP_ad96ooAg/p.png?size_mode=5\"\n        alt=\"tmdb logo\"\n      ></img>\n    </a>\n  );\n\n  const MovieBox = props => {\n    const moveToFeatured = hello => {\n      console.log(hello);\n    };\n\n    return (\n      <div className=\"movie_box\">\n        <img\n          className=\"movie_poster\"\n          src={props.movie.poster_link}\n          alt=\"movie poster\"\n          onClick={() => moveToFeatured(props)}\n        />\n        <p className=\"movie_title\">\n          {props.movie.title ? props.movie.title : props.movie.name}\n        </p>\n        <p className=\"movie_vote_average\">\n          <i className=\"star_icon fas fa-star\"></i>\n          {props.movie.vote_average}\n        </p>\n      </div>\n    );\n  };\n\n  const MovieBoxContainer = props => (\n    <div className=\"movie_box_container\">{props.movies}</div>\n  );\n\n  const MovieMain = props => (\n    <div className=\"movie_main\">\n      <h2>TRENDING MOVIES</h2>\n      <MovieBoxContainer movies={props.movies} />\n    </div>\n  );\n\n  const GenreButton = props => (\n    <div\n      className=\"genre_button\"\n      onClick={() => props.updateDiscover(\"movie\", props.genre)}\n    >\n      {props.genre[0]}\n    </div>\n  );\n\n  const GenresBar = props => {\n    const genresArr = [];\n    for (var i = 0; i < Object.keys(props.genres).length; i++) {\n      genresArr.push(\n        <GenreButton\n          genre={Object.entries(props.genres)[i]}\n          key={`Button+${i}`}\n          updateDiscover={props.updateDiscover}\n        />\n      );\n    }\n\n    return <div className=\"genres_bar\">{genresArr}</div>;\n  };\n\n  const Navbar = props => (\n    <nav className=\"navbar\">\n      <TVMovieToggle updateDiscover={props.updateDiscover} />\n      <Search updateSearch={props.updateSearch} />\n    </nav>\n  );\n\n  const Search = props => {\n    const scrollToMovies = () => {\n      var element = document.querySelector(\".movie_main\");\n      var headerOffset = 70;\n      var elementPosition = element.offsetTop;\n      var offsetPosition = elementPosition - headerOffset;\n      document.documentElement.scrollTop = offsetPosition;\n      document.body.scrollTop = offsetPosition; // For Safari\n    };\n\n    return (\n      <div className=\"search-field-container\">\n        <input\n          className=\"search-field\"\n          type=\"search\"\n          name=\"search\"\n          placeholder=\"Search...\"\n          onFocus={() => scrollToMovies()}\n          onChange={event => props.updateSearch(event.target.value)}\n        />\n      </div>\n    );\n  };\n\n  class TVMovieToggle extends React.Component {\n    state = {\n      toggle: false\n    };\n\n    slideToggle = () => {\n      this.setState({ toggle: !this.state.toggle }, () =>\n        this.props.updateDiscover(this.state.toggle ? \"tv\" : \"movie\")\n      );\n    };\n\n    render() {\n      const toggle = this.state.toggle;\n\n      return (\n        <div className=\"toggle-container\">\n          <p>Movies</p>\n          <div className=\"toggle\" onClick={() => this.slideToggle()}>\n            <div className={\"toggle-button \" + (toggle ? \"movie\" : \"tv\")}></div>\n          </div>\n          <p>TV</p>\n        </div>\n      );\n    }\n  }\n}\n\nexport default Movie;\n"]},"metadata":{},"sourceType":"module"}