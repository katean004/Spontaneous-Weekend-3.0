{"ast":null,"code":"var _jsxFileName = \"/Users/cyrusjose/Library/Mobile Documents/com~apple~CloudDocs/Programming/FullStack/spontaneous-weekend-3/spontaneous-weekend-v3/client/src/pages/Login.js\";\nimport React, { Component } from \"react\";\nimport { Button, Form, FormGroup, Label, Input, Card, CardTitle, CardSubtitle, CardBody, Alert, Spinner } from \"reactstrap\";\nimport { connect } from \"react-redux\"; // API to connect component state to redux store\n\nimport PropTypes from \"prop-types\";\nimport { buttonClicked, isLoading } from \"../actions/uiActions\";\nimport { login } from \"../actions/authActions\";\nimport { Link } from \"react-router-dom\";\n\nclass Login extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      email: \"\",\n      password: \"\",\n      msg: \"\"\n    };\n\n    this.onChange = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      const {\n        email,\n        password\n      } = this.state;\n      const user = {\n        email,\n        password\n      };\n      this.props.isLoading();\n      this.props.login(user);\n    };\n  }\n\n  componentDidMount() {\n    this.props.buttonClicked();\n  }\n\n  componentDidUpdate(prevProps) {\n    const status = this.props.status;\n\n    if (status !== prevProps.status) {\n      if (status.id === \"LOGIN_FAIL\") {\n        this.setState({\n          msg: status.statusMsg\n        });\n      }\n    }\n  }\n\n  render() {\n    let className = \"divStyle\";\n\n    if (!this.props.button) {\n      className = \"formStyle\";\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: className,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(CardBody, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(CardTitle, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }\n    }, \" \", /*#__PURE__*/React.createElement(\"h2\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }\n    }, \"Login\"))), /*#__PURE__*/React.createElement(CardSubtitle, {\n      className: \"text-muted\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 13\n      }\n    }, \"Don't have an account?\", /*#__PURE__*/React.createElement(Link, {\n      to: \"/register\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 15\n      }\n    }, \" Register. \")), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 13\n      }\n    }), this.state.msg ? /*#__PURE__*/React.createElement(Alert, {\n      color: \"danger\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 15\n      }\n    }, this.state.msg) : null, /*#__PURE__*/React.createElement(Form, {\n      onSubmit: this.onSubmit,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"email\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }\n    }, \"E-mail\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"email\",\n      name: \"email\",\n      id: \"email\",\n      size: \"lg\",\n      placeholder: \"you@youremail.com\",\n      className: \"mb-3\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Label, {\n      for: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 17\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"password\",\n      name: \"password\",\n      id: \"password\",\n      size: \"lg\",\n      placeholder: \"Enter your Password\",\n      className: \"mb-3\",\n      onChange: this.onChange,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      size: \"lg\",\n      color: \"dark\",\n      style: {\n        marginTop: \"2rem\"\n      },\n      block: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }\n    }, this.props.loading ? /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 21\n      }\n    }, \"Logging in.. \", /*#__PURE__*/React.createElement(Spinner, {\n      size: \"sm\",\n      color: \"light\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 36\n      }\n    })) : /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 21\n      }\n    }, \"Login\")))))));\n  }\n\n}\n\nLogin.propTypes = {\n  buttonClicked: PropTypes.func.isRequired,\n  isLoading: PropTypes.func.isRequired,\n  button: PropTypes.bool,\n  login: PropTypes.func.isRequired,\n  isAuthenticated: PropTypes.bool,\n  status: PropTypes.object.isRequired,\n  loading: PropTypes.bool\n};\n\nconst mapStateToProps = state => ({\n  //Maps state element in redux store to props\n  //location of element in the state is on the right and key is on the left\n  button: state.ui.button,\n  //store.getState().ui.button another way to get button bool\n  isAuthenticated: state.auth.isAuthenticated,\n  status: state.status,\n  loading: state.ui.loading\n});\n\nexport default connect(mapStateToProps, {\n  login,\n  isLoading,\n  buttonClicked\n})(Login);","map":{"version":3,"sources":["/Users/cyrusjose/Library/Mobile Documents/com~apple~CloudDocs/Programming/FullStack/spontaneous-weekend-3/spontaneous-weekend-v3/client/src/pages/Login.js"],"names":["React","Component","Button","Form","FormGroup","Label","Input","Card","CardTitle","CardSubtitle","CardBody","Alert","Spinner","connect","PropTypes","buttonClicked","isLoading","login","Link","Login","state","email","password","msg","onChange","e","setState","target","name","value","onSubmit","preventDefault","user","props","componentDidMount","componentDidUpdate","prevProps","status","id","statusMsg","render","className","button","marginTop","loading","propTypes","func","isRequired","bool","isAuthenticated","object","mapStateToProps","ui","auth"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport {\n  Button,\n  Form,\n  FormGroup,\n  Label,\n  Input,\n  Card,\n  CardTitle,\n  CardSubtitle,\n  CardBody,\n  Alert,\n  Spinner\n} from \"reactstrap\";\nimport { connect } from \"react-redux\"; // API to connect component state to redux store\nimport PropTypes from \"prop-types\";\nimport { buttonClicked, isLoading } from \"../actions/uiActions\";\nimport { login } from \"../actions/authActions\";\n\nimport { Link } from \"react-router-dom\";\n\nclass Login extends Component {\n  state = {\n    email: \"\",\n    password: \"\",\n    msg: \"\"\n  };\n\n  static propTypes = {\n    buttonClicked: PropTypes.func.isRequired,\n    isLoading: PropTypes.func.isRequired,\n    button: PropTypes.bool,\n    login: PropTypes.func.isRequired,\n    isAuthenticated: PropTypes.bool,\n    status: PropTypes.object.isRequired,\n    loading: PropTypes.bool\n  };\n\n  componentDidMount() {\n    this.props.buttonClicked();\n  }\n\n  componentDidUpdate(prevProps) {\n    const status = this.props.status;\n\n    if (status !== prevProps.status) {\n      if (status.id === \"LOGIN_FAIL\") {\n        this.setState({ msg: status.statusMsg });\n      }\n    }\n  }\n\n  onChange = e => {\n    this.setState({ [e.target.name]: e.target.value });\n  };\n\n  onSubmit = e => {\n    e.preventDefault();\n\n    const { email, password } = this.state;\n\n    const user = { email, password };\n    this.props.isLoading();\n    this.props.login(user);\n  };\n\n  render() {\n    let className = \"divStyle\";\n    if (!this.props.button) {\n      className = \"formStyle\";\n    }\n    return (\n      <div className={className}>\n        <Card>\n          <CardBody>\n            <CardTitle>\n              {\" \"}\n              <h2>\n                <strong>Login</strong>\n              </h2>\n            </CardTitle>\n            <CardSubtitle className=\"text-muted\">\n              Don't have an account?\n              <Link to=\"/register\"> Register. </Link>\n            </CardSubtitle>\n            <br />\n            {this.state.msg ? (\n              <Alert color=\"danger\">{this.state.msg}</Alert>\n            ) : null}\n            <Form onSubmit={this.onSubmit}>\n              <FormGroup>\n                <Label for=\"email\">E-mail</Label>\n                <Input\n                  type=\"email\"\n                  name=\"email\"\n                  id=\"email\"\n                  size=\"lg\"\n                  placeholder=\"you@youremail.com\"\n                  className=\"mb-3\"\n                  onChange={this.onChange}\n                />\n\n                <Label for=\"password\">Password</Label>\n                <Input\n                  type=\"password\"\n                  name=\"password\"\n                  id=\"password\"\n                  size=\"lg\"\n                  placeholder=\"Enter your Password\"\n                  className=\"mb-3\"\n                  onChange={this.onChange}\n                />\n                <Button\n                  size=\"lg\"\n                  color=\"dark\"\n                  style={{ marginTop: \"2rem\" }}\n                  block\n                >\n                  {this.props.loading ? (\n                    <span>\n                      Logging in.. <Spinner size=\"sm\" color=\"light\" />\n                    </span>\n                  ) : (\n                    <span>Login</span>\n                  )}\n                </Button>\n              </FormGroup>\n            </Form>\n          </CardBody>\n        </Card>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  //Maps state element in redux store to props\n  //location of element in the state is on the right and key is on the left\n  button: state.ui.button, //store.getState().ui.button another way to get button bool\n  isAuthenticated: state.auth.isAuthenticated,\n  status: state.status,\n  loading: state.ui.loading\n});\n\nexport default connect(mapStateToProps, { login, isLoading, buttonClicked })(\n  Login\n);\n"]},"metadata":{},"sourceType":"module"}